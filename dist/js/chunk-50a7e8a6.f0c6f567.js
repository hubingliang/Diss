(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-50a7e8a6"],{"109d":function(e,t,s){"use strict";var a=s("36b0"),n=s.n(a);n.a},"36b0":function(e,t,s){},"3ab1":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{staticClass:"room"},[s("TopBar"),s("section",{staticClass:"chat"},[s("Message",{attrs:{messageList:e.messageList}})],1),s("section",{staticClass:"inputBox"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.message,expression:"message"}],attrs:{type:"text",id:"input"},domProps:{value:e.message},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.sendMessage(t):null},input:function(t){t.target.composing||(e.message=t.target.value)}}})])],1)},n=[],i=s("d4ec"),o=s("bee2"),c=s("99de"),r=s("7e84"),u=s("262e"),l=s("9ab4"),f=s("60a3"),p=s("4fe3"),b=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",e._l(this.$store.state.messageList,function(t,n){return a("section",{key:n,staticClass:"messageBox"},[t.from===e.userId?a("div",{staticClass:"message own"},[a("p",[e._v(e._s(t.text))]),a("img",{staticClass:"avatar",attrs:{src:s("cf05"),alt:""}})]):a("div",{staticClass:"message friend"},[a("img",{staticClass:"avatar",attrs:{src:s("cf05"),alt:""}}),a("p",[e._v(e._s(t.text))])])])}))},g=[],m=function(e){function t(){return Object(i["a"])(this,t),Object(c["a"])(this,Object(r["a"])(t).apply(this,arguments))}return Object(u["a"])(t,e),Object(o["a"])(t,[{key:"userId",get:function(){return this.$store.state.user.id}}]),t}(f["c"]);m=l["a"]([f["a"]],m);var d=m,v=d,h=(s("f8d1"),s("2877")),j=Object(h["a"])(v,b,g,!1,null,"757d60b6",null);j.options.__file="Message.vue";var O=j.exports,_=s("b043"),y=s("be83"),k=(y.TypedMessagesPlugin,y.ImageMessage,function(e){function t(){var e;return Object(i["a"])(this,t),e=Object(c["a"])(this,Object(r["a"])(t).apply(this,arguments)),e.message="",e.messageList=[],e.conversation={},e}return Object(u["a"])(t,e),Object(o["a"])(t,[{key:"init",value:function(){var e=this;console.log(this.$store.state.user),this.$store.state.user.createConversation({members:["5bf66816303f39005ea2a323","5bf667df808ca40072063fe7"],name:"Tom & Jerry"}).then(function(t){e.conversation=t}),this.$store.state.user.on(p["Event"].MESSAGE,function(t,s){console.log(t),e.$store.commit("initMessageList",t)})}},{key:"sendMessage",value:function(){var e=this;this.conversation.send(new p["TextMessage"]("".concat(this.message))).then(function(t){e.$store.commit("initMessageList",t),e.message="",console.log("BrownHu & Jerry","发送成功！")})}},{key:"created",value:function(){this.init()}}]),t}(f["c"]));l["a"]([Object(f["b"])()],k.prototype,"init",null),l["a"]([Object(f["b"])()],k.prototype,"sendMessage",null),k=l["a"]([Object(f["a"])({components:{Message:O,TopBar:_["a"]}})],k);var M=k,x=M,C=(s("109d"),Object(h["a"])(x,a,n,!1,null,"68034e42",null));C.options.__file="Room.vue";t["default"]=C.exports},"6c9a":function(e,t,s){},"8dae":function(e,t,s){"use strict";var a=s("966d"),n=s.n(a);n.a},"966d":function(e,t,s){},b043:function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{staticClass:"topBar"},[e._t("default")],2)},n=[],i=s("d4ec"),o=s("99de"),c=s("7e84"),r=s("262e"),u=s("9ab4"),l=s("60a3"),f=function(e){function t(){return Object(i["a"])(this,t),Object(o["a"])(this,Object(c["a"])(t).apply(this,arguments))}return Object(r["a"])(t,e),t}(l["c"]);f=u["a"]([l["a"]],f);var p=f,b=p,g=(s("8dae"),s("2877")),m=Object(g["a"])(b,a,n,!1,null,"1d8197eb",null);m.options.__file="TopBar.vue";t["a"]=m.exports},cf05:function(e,t,s){e.exports=s.p+"img/logo.82b9c7a5.png"},f8d1:function(e,t,s){"use strict";var a=s("6c9a"),n=s.n(a);n.a}}]);
//# sourceMappingURL=chunk-50a7e8a6.f0c6f567.js.map